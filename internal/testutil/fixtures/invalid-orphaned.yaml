version: "1.0"
name: "invalid-orphaned-workflow"
description: "A workflow with orphaned nodes (should fail validation)"

servers:
  - id: "test-server"
    name: "test"
    command: "go"
    args: ["run", "../../cmd/testserver/main.go"]
    transport: "stdio"

nodes:
  - id: "start"
    type: "start"

  - id: "node_a"
    type: "mcp_tool"
    server: "test-server"
    tool: "echo"
    parameters:
      message: "A"
    output: "result_a"

  - id: "node_b"
    type: "mcp_tool"
    server: "test-server"
    tool: "echo"
    parameters:
      message: "B"
    output: "result_b"

  - id: "orphaned_node"
    type: "mcp_tool"
    server: "test-server"
    tool: "echo"
    parameters:
      message: "I'm alone"
    output: "orphaned_result"

  - id: "end"
    type: "end"

edges:
  - from: "start"
    to: "node_a"

  - from: "node_a"
    to: "node_b"

  - from: "node_b"
    to: "end"

  # orphaned_node has no incoming or outgoing edges
